<!DOCTYPE html>
<html lang="es" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Python Tweet Analysis</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.2.8/d3.min.js"></script>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js" integrity="sha384-feJI7QwhOS+hwpX2zkaeJQjeiwlhOP+SdQDqhgvvo1DsjtiSQByFdThsxO669S2D" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

    <!--<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/javascript.util/0.12.12/javascript.util.min.js"></script>
    <script src="https://files.codepedia.info/files/uploads/iScripts/html2canvas.js"></script>
    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>-->

    <script src="{{ url_for('static', filename='js/action.js') }}"></script>
    <script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/graficar.js') }}"></script>
    <script src="{{ url_for('static', filename='js/sweetalert.min.js') }}"></script>
    <script src="http://www.dukelearntoprogram.com/course1/common/js/image/SimpleImage.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilos.css') }}">
  </head>
  <body>
    <header>
      <!--<div class="container-logo">
        <a href="http://www.inpec.gov.co/" target="_blank"><img src="images/logo.png" alt="img responsive" class="img-responsive img-fluid center-block" width="60%"></a>

      </div>-->
      <div class="container-fluid">
        <section class="row">
          <div class="col-md-8 text-center">
            <img id="caron" src="{{ url_for('static', filename='images/logoProducto.png') }}" alt="img caron" class="img-fluid">
          </div>
          <!--<div class="col-md-4 center-block">
            <a href="#"><p id="nosotros" align="center"><img  src="images/contacts-icon.png" alt="img responsive" width="60" height="60"> ABOUT US </p></a>
          </div>-->
          <div class="col-md-4 text-center">
            <img id="lgF" src="{{ url_for('static', filename='images/Escudo_UD.png') }}" alt="img " class="img-fluid">

          </div>
        </section>

      </div>
    </header>


    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a class="navbar-brand" href="#">ISAC</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="manuales">Manuales <span class="sr-only">(current)</span></a>
          </li>
        </ul>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>

    <br><br><br>

    <div class="container">
        <div id="descripcion" class="text-center">
          <h1>Bienvenido a ISAC</h1>
          <hr/ id="separador">
          <br>
          <p text-align="center" style="font-size:18px;">Esta aplicación proporciona un entorno Web intuitivo para llevar a cabo la evaluación y comparación de técnicas de segmentación mediante índices que miden la similaridad (Jaccard Index, Sorense-Dice Coefficient y Normalized Probabilistic Rand) usando conjuntos de imágenes proporcionados por el usuario. Las técnicas de segmentación a evaluar pueden ser las tradicionales (Color Space Segmentation, Canny Edge Dectector y Watershed) y/o técnicas propias del usuario. Es importante resaltar que el entorno web se puede utilizar también cómo una herramienta de segmentación de imágenes (sin hacer uso del módulo de evaluación)</p>
          <br>
        </div>
      </div>

      <hr/ id="separador">

      <div class="container-fluid">
             <h3>Zona de Carga</h3>

             <br>
             <p class=text-center text-align="center">Esta zona tiene como finalidad la carga de imágenes desde una ubicación local.</p>
             <p class=text-center text-align="center"><strong>Nota:</strong> Las imágenes deben tener como extensión .PNG</p>
             <p class=text-center text-align="center"><strong>Nota:</strong> Todas las imágenes cargadas serán segmentadas por método como Color Space Segmentation, Canny Edge Detector y Watershed</p>
             <br>
             <hr/ id="separador">
             <br>
             <div class="row justify-content-center">
               <div class="col-md-3">
                 <span></span>
               </div>
               <div class="col-md-6">
                 <div class="card rounded ">
                   <div class="card-header text-white text-center"><h4>Selecciona y carga las imágenes a segmentar</h4></div>
                     <div class="card-body">
                  	      <form method="post" action="#" id="#">
                                <div class="form-group files">
                                  <input id="files" type="file" class="form-control" multiple="">
                                </div>
                            </form>
                   </div>
                 </div>
               </div>


               <div class="col-md-3">
                 <span></span>
               </div>
           	</div>
            </section>
      </div>
      <br>
      <hr/ id="separador">
      <div id="zonaSegmentation" class="container-fluid">
        <h3>Zona de Segmentación</h3>
        <br>
        <p class=text-center text-align="center">Esta zona tiene como finalidad llevar a cabo la segmentación de las imágenes seleccionadas en la etapa anterior, mediante Color space segmentation, Canny Edge Detectir y Watershed. Por lo tanto, se deben seleccionar los parámetros de cada uno de estos métodos. Dentro de la sección de cada técnica, se encontrarán puntos de ayuda para completar esta información.</p>
        <br>
        <hr/ id="separador">
        <div class="row text-center">
              <div class="col-md-1">
                <span></span>
              </div>

              <div id="cajaUno" class="col-md-4">
                <div class="card rounded ">
                  <div class="card-header text-white text-center">
                    <h4 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Color Space</th></tr><tr><td class='tg-0lax' colspan='3'>El método de segmentación por color-space trabaja directamente sobre un espacio de color, con el fin de aislar el resto de colores</td></tr></table>" >Color-space</h4>
                  </div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col-md-3">
                              <h6 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Color Objetivo</th></tr><tr><td class='tg-0lax' colspan='3'>Definición del valor de pixel en cada una de las bandas del espacio de color RGB (Red,Green,Blue) para poder encontrar el color en la imagen</td></tr></table>">Color Objetivo : </h6>
                            </div>
                            <div class="form-group col-md-3">
                              <input type="number" class="form-control" placeholder="R" id="redBand" min="0" max="255">
                            </div>
                            <div class="form-group col-md-3">
                              <input type="number" class="form-control" placeholder="G" id="greenBand" min="0" max="255">
                            </div>
                            <div class="form-group col-md-3">
                              <input type="number" class="form-control" placeholder="B" id="blueBand" min="0" max="255">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col">
                              <h6 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Umbral</th></tr><tr><td class='tg-0lax' colspan='3'>Valor que genera un rango por cada una de las bandas del color objetivo, este rango define los valores de pixel que se extraen de la imagen</td></tr></table>">Valor de Umbral : </h6>
                            </div>
                            <div class="form-group col">
                              <input type="number" class="form-control" placeholder="Umbral" id="umbralColorSpace" min="0" max="60">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-3">
                <div class="card rounded ">
                  <div class="card-header text-white text-center"><h4 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Canny Edge Dectector</th></tr><tr><td class='tg-0lax' colspan='3'>Se define como una técnica de procesamiento de imágenes la cual tiene como propósito encontrar los contornos en una imagen</td></tr></table>">Canny Edge Dectector</h4></div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col-md-4">
                              <h6 data-toggle="tooltip" data-placement="top"  data-html="true" title="<table><tr><th colspan='3'>Hysteresis</th></tr><tr><td class='tg-0lax' colspan='3'>Decide cuáles bordes son realmente bordes y cuáles no. Para esto, necesitamos dos valores de umbral, minVal y maxVal. Cualquier borde con un gradiente de intensidad mayor que maxVal seguramente será un borde y los que están por debajo del minVal seguramente no serán bordes, por lo que se descartan. Los que se encuentran entre estos dos umbrales se clasifican como bordes o no según su conectividad</td></tr></table>">Hysteresis : </h6>
                            </div>
                            <div class="form-group col-md-4">
                              <input type="number" class="form-control" placeholder="Min" id="minCanny" min="0" max="255" data-toggle="tooltip" data-placement="top"  data-html="true" title="<table><tr><th colspan='3'>Min Value</th></tr><tr><td class='tg-0lax' colspan='3'>Valor mínimo del umbral</td></tr></table>">
                            </div>
                            <div class="form-group col-md-4">
                              <input type="number" class="form-control" placeholder="Max" id="maxCanny" min="0" max="255" data-toggle="tooltip" data-placement="top"  data-html="true" title="<table><tr><th colspan='3'>Max Value</th></tr><tr><td class='tg-0lax' colspan='3'>Valor maxímo del umbral</td></tr></table>">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col-md-6">
                              <h6 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Kernel Sobel</th></tr><tr><td class='tg-0lax' colspan='3'>Define la ventana de filtro de Sobel en dirección horizontal y vertical para obtenter la primera derivadas en ambas direcciones</td></tr></table>">Kernel Sobel : </h6>
                            </div>
                            <div class="form-group col-md-6">
                              <input type="number" class="form-control" placeholder="Kernel" id="sobelKernel" min="0" max="9">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-2">
                <div class="card rounded ">
                  <div class="card-header text-white text-center"><h4 data-toggle="tooltip" data-placement="top" data-html="true" title="<table><tr><th colspan='3'>Watershed</th></tr><tr><td class='tg-0lax' colspan='3'>Este algoritmo dicta que cualquier imagen en escala de grises se puede representar como una superficie topográfica donde los picos están dados por intensidad alta mientras que la baja intensidad denota valles</td></tr></table>">Watershed</h4></div>
                  <div class="card-body">
                    <div class="row">
                      <div class="col-md-12">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col-md-5">
                              <h6 data-toggle="tooltip" data-placement="top"  data-html="true" title="<table><tr><th colspan='3'>Umbral</th></tr><tr><td class='tg-0lax' colspan='3'>Define el valor mínimo de un rango hasta 255 para que la función Otsu's Binarization calcule el umbral óptimo</td></tr></table>">Umbral : </h6>
                            </div>
                            <div class="form-group col-md-7">
                              <input type="number" class="form-control" placeholder="Umbral" id="umbralWatershed" min="0" max="100">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-10">
                        <div class="row">
                          <div class="form-row">
                            <div class="form-group col-md-5">
                              <h6 data-toggle="tooltip" data-placement="top"  data-html="true" title="<table><tr><th colspan='3'>Kernel</th></tr><tr><td class='tg-0lax' colspan='3'>Ventana de filtro para eliminar el ruido generado en la imagen mediante una apertura morfológica</td></tr></table>">Kernel : </h6>
                            </div>
                            <div class="form-group col-md-7">
                              <input type="number" class="form-control" placeholder="Kernel" id="kernelWatershed" min="0" max="9">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-md-1 align-self-center">
                <button id="segmentar" type="button" class="btn btn-primary text-center">Segmentar</button>
              </div>

              <div class="col-md-1">
                <span></span>
              </div>

        </div>
      </div>


<br>

<div id="contact">Contact</div>
<div id="contactForm">
  <h1>Por favor espere,</h1>
  <h1>se están segmentando las imágenes</h1>
  <img id="loadingGIF" src="{{ url_for('static', filename='images/load-image.gif') }}" alt="img caron" class="img-responsive img-fluid center-block" height="150" width="150">
  <h5 text-align="center">Esto puede tardar algunos minutos, depende de la cantidad de imágenes</h5>
</div>


  <!--<div id="zonaComparacion" class="container-fluid" style="visibility: hidden;">-->
  <div id="zonaVisualizacion" class="container-fluid">
    <hr/ id="separador">
    <h3>Zona de Visualización</h3>
    <br>
    <p class=text-center text-align="center">En esta zona se presentan las imágenes segmentadas, resultado de aplicar los métodos de segmentación con los parámetros definidos anteriormente al conjunto de imágenes cargadas en la primera etapa de este proceso.</p>
    <br>
    <hr/ id="separador">
    <br>
    <div class="row">
      <div class="col">
        <div class="card rounded ">
          <div class="card-header text-white text-center"><h4>Color-space</h4></div>
          <div class="card-body">
            <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
              <div id = 'controlUno' class="carousel-inner">
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card rounded ">
          <div class="card-header text-white text-center"><h4>Canny Edge Dectector</h4></div>
          <div class="card-body">
            <div id="carouselExampleControlsUno" class="carousel slide" data-ride="carousel">
              <div id = 'controlDos' class="carousel-inner">
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControlsUno" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControlsUno" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card rounded">
          <div class="card-header text-white text-center"><h4>Watershed</h4></div>
          <div class="card-body">
            <div id="carouselExampleControlsDos" class="carousel slide" data-ride="carousel">
              <div id = 'controlTres' class="carousel-inner">
              </div>
              <a class="carousel-control-prev" href="#carouselExampleControlsDos" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleControlsDos" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <br>

  <div id="zonaCriterios" class="container-fluid">
    <hr/ id="separador">
    <h3>Zona de Evaluación</h3>
    <br>
    <p class=text-center text-align="center">En esta zona se presentan las imágenes segmentadas, resultado de aplicar los métodos de segmentación con los parámetros definidos anteriormente al conjunto de imágenes cargadas en la primer etapa de este proceso.</p>
    <p class=text-center text-align="center"><strong>Nota:</strong>  Si desea subir su propio método de segmentación, se debe tener presente que la cantidad de imágenes debe concordar con las imágenes originales de la primer etapa. Adicionalmente, deben ser cargadas exactamente en el mismo orden que se subieron las imágenes originales.</p>
    <br>
    <hr/ id="separador">
    <br>
    <div class="row">
      <div class="col-md-1">
        <span></span>
      </div>
      <div class="col-md-4">
        <div class="card rounded ">
          <div class="card-header text-white text-center"><h4>Técnicas a evaluar</h4></div>
            <div class="card-body">
              <div class="form-check" id="seleccionMetodos">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1" checked>
                <label class="form-check-label" for="inlineRadio1">Estándar ( Color space <strong>vs</strong> Canny <strong>vs</strong> Watershed)</label>
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
                <label class="form-check-label" for="inlineRadio2" data-toggle="tooltip" data-placement="top" title="Propio hace referencia a un método de segmentación realizado por el usuario a la imágenes originales cargadas al inicio de este software">Propio vs Estándar</label>
              </div>
              <br>
              <p>Seleccionar y cargar la imágenes segmentadas</p>
                 <form method="post" action="#" id="#">
                       <div class="form-group files">
                         <input id="filesPropios" type="file" class="form-control" multiple="" disabled>
                       </div>
                   </form>
          </div>
        </div>
      </div>
      <div class="col-md-1">
        <span></span>
      </div>
      <div class="col-md-3">
        <div class="card rounded">
          <div class="card-header text-white text-center"><h4>Criterios</h4></div>
          <div class="card-body">


                           <!-- Default panel contents -->

                           <form id="formularioMetodos">
                           <ul class="list-group list-group-flush">
                               <li class="list-group-item" data-toggle="tooltip" data-html="true" data-placement="top" title="<table><tr><th colspan='3'>Índice Jaccard</th></tr><tr><td class='tg-0lax' colspan='3'>Mide el grado de similitud entre dos conjuntos, mediante la cardinalidad de la intersección de ambos conjuntos dividida por la cardinalidad de su unión y siempre toma valores entre 0 y 1, correspondiente este último a la igualdad total entre ambos conjuntos</td></tr></table>">
                                   Índice de Jaccard
                                           <label class="switch ">
                     <input type="checkbox" class="success" value="jaccard" name="metodos">
                     <span class="slider round"></span>
                   </label>
                               </li>
                               <li class="list-group-item" data-toggle="tooltip" data-html="true" data-placement="top" title="<table><tr><th colspan='3'>Coeficiente Sorense-Dice</th></tr><tr><td class='tg-0lax' colspan='3'>Es un coeficiente estadístico utilizado para comparar la similitud de dos muestras, el cual oscila en un rango de 0 a 1, donde 1 presenta un nivel de similitud perfecto</td></tr></table>">
                                   Coeficiente de Sorense-Dice
                                           <label class="switch ">
                     <input type="checkbox" class="success" value="sorense" name="metodos">
                     <span class="slider round"></span>
                   </label>
                               </li>
                               <li class="list-group-item" data-toggle="tooltip" data-html="true" data-placement="top" title="<table><tr><th colspan='3'>Normalized Probabilistic Rand</th></tr><tr><td class='tg-0lax' colspan='3'>
Esta medida permite una comparación entre los resultados de la segmentación en diferentes imágenes, con diferentes números de regiones</td></tr></table>">
                                   Normalized Probabilistic Rand
                                          <label class="switch ">
                     <input type="checkbox" class="success" value="npr" name="metodos">
                     <span class="slider round"></span>
                   </label>
                               </li>

                           </ul>
                         </form>



               </div>

          </div>
        </div>
        <div class="col-md-1">
          <span></span>
        </div>
        <div class="col-md-1 align-self-center">
          <button id="comparar" type="button" class="btn btn-primary text-center">Evaluar</button>
        </div>
        <div class="col-md-1">
          <span></span>
        </div>
      </div>




    </div>
  </div>

  <br>

  <div id="zonaResultados" class="container-fluid" >
    <hr/ id='separador'>
        <h3>Zona de Resultados</h3>
        <br>
        <p class=text-center text-align="center">En esta zona se presentan los resultados obtenidos a partir de los criterios de evaluación seleccionados anteriormente. Por lo tanto, se presenta una gráfica el promedio obtenido para cada uno de los criterios y una tabla con los valores indivuales por cada una de las imágenes. Adicionalmente, se permite descargar las gráficas y una tabla con los datos base de estos resultados.</p>

        <br>
  <hr/ id='separador'><br>
    <div id="resultados" class="row">

    </div>
    <br>
    <div id = "buttonsDown" class = 'row'>

    </div>
    <div id = "images_canvas" class = 'row' hidden>

    </div>
    <br>
    <div id="resultados_tables" class="row">

    </div>
    <br>
    <div id = "buttonsDown_tables" class = 'row'>

    </div>
    <div id = "enlaces" hidden>

    </div>

  </div>

  <div id="contactResults">Contact</div>
  <div id="contactFormResults">
    <h1>Por favor espere,</h1>
    <h1>se están calculando los criterios</h1>
    <img id="loadingGIF" src="{{ url_for('static', filename='images/load-image.gif') }}" alt="img caron" class="img-responsive img-fluid center-block" height="150" width="150">
    <h5 text-align="center">Esto puede tardar algunos minutos, depende de la cantidad de imágenes</h5>
  </div>


<br>
<br>
  <div class="container-fluid">
    <section class="row">
      <div class="col-md-12 card text-white bg-dark" id="zonCopyRight">
        <div class="card-body">
          <p class="card-text" align="center">GICOGE<span class="glyphicon glyphicon-copyright-mark"></span> 2019-2020</p>
        <p class="card-text" align="center">Grupo de Investigación Internacional en Informática, Comunicación y Gestión del Conocimiento</p>
        </div>
      </div>
    </section>

  </div>

    <!--<script src="http://code.jquery.com/jquery-latest.js"></script>-->
    <script src="{{ url_for('static', filename='js/downloadImages.js') }}"></script>


    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </body>
</html>
